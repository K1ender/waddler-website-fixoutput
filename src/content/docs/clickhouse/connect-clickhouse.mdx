import Npm from '@mdx/Npm.astro';
import Callout from '@mdx/Callout.astro';
import Prerequisites from "@mdx/Prerequisites.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import WhatsNextPostgres from "@mdx/WhatsNextPostgres.astro";

# Waddler \<\> ClickHouse

To use Waddler with a ClickHouse database, you should use the `@clickhouse/client` driver.

Waddler natively supports `@clickhouse/client` with `waddler/clickhouse` package.

#### Step 1 - Install packages
<Npm>
waddler @clickhouse/client
</Npm>

#### Step 2 - Initialize the driver and make a query
<CodeTabs items={['clickhouse', 'clickhouse with config']}>
```typescript copy
import { waddler } from "waddler/clickhouse";

const sql = waddler(process.env.DATABASE_URL);

const result = await sql`select 1;`;
```
```typescript copy
import { waddler } from "waddler/clickhouse";

// You can specify any property from the clickhouse connection options
const sql = waddler({ connection: { url: process.env.DATABASE_URL }});
// process.env.DATABASE_URL should look like this: http[s]://<user>:<password>@<host>:<port>/<database>;

const result = await sql`select 1;`;
```
</CodeTabs>

If you need to provide your existing driver:

```typescript copy
import { waddler } from "waddler/clickhouse";
import { createClient } from '@clickhouse/client';
  
const client = createClient({
  url: '...',
  // url should have the following format: http[s]://<host>:<port>
  user: 'user',
  password: 'password',
  database: 'database',
});

const sql = waddler({ client });

const result = await sql`select 1;`;
```
