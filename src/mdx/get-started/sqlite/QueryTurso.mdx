import CodeWithProps from "@mdx/CodeWithProps.astro";

Let's **update** the `src/index.ts` file with queries to create, read, update, and delete users

<CodeWithProps dialect={props.dialect} connection_string={props.connection_string}>
```typescript copy filename="src/index.ts"
import 'dotenv/config';
import { waddler } from 'waddler/$dialect$';
  
const sql = waddler({ 
  connection: { 
    url: process.env.TURSO_DATABASE_URL!, 
    authToken: process.env.TURSO_AUTH_TOKEN!
  }
});

async function main() {
  const user = [
    'John',
    30,
    'john@example.com',
  ];

  await sql`
    insert into ${sql.identifier('users')}(${sql.identifier(['name', 'age', 'email'])}) 
    values ${sql.values([user])};
  `.run();
  console.log('New user created!')

  const users = await sql`select * from ${sql.identifier('users')};`.all();
  console.log('Getting all users from the database: ', users)
  /*
  const users: {
    id: number;
    name: string;
    age: number;
    email: string;
  }[]
  */

  await sql`update ${sql.identifier('users')} set age = ${31} where email = ${user[2]};`.run();
  console.log('User info updated!')

  await sql`delete from ${sql.identifier('users')} where email = ${user[2]};`.run();
  console.log('User deleted!')
}

main();
```
</CodeWithProps>