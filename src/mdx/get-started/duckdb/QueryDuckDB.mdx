import CodeWithProps from "@mdx/CodeWithProps.astro";

Let's **update** the `src/index.ts` file with queries to create, read, update, and delete users

<CodeWithProps dialect={props.dialect} connection_string={props.connection_string}>
```typescript copy filename="src/index.ts"
import 'dotenv/config';
import { waddler } from 'waddler/$dialect$';

const sql = waddler({ url: process.env.DATABASE_URL!, max: 10, accessMode: 'read_write' });

async function main() {
    const user = [
        1,
        'John',
        30,
        'john@example.com',
    ];
    await sql`insert into ${sql.identifier('users')} values ${sql.values([user])};`;
    console.log('New user created!')

    const users = await sql`select * from ${sql.identifier('users')};`;
    console.log('Getting all users from the database:', users)
    /*
    const users: {
      id: number;
      name: string;
      age: number;
      email: string;
    }[]
    */
   
    await sql`update ${sql.identifier('users')} set age = ${31} where email = ${user[3]};`;
    console.log('User info updated!')

    await sql`delete from ${sql.identifier('users')} where email = ${user[3]};`;
    console.log('User deleted!')
}

main();
```
</CodeWithProps>