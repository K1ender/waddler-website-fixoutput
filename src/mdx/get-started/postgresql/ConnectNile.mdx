import Callout from '@mdx/Callout.astro';
import CodeTabs from "@mdx/CodeTabs.astro";


<CodeTabs items={["node-postgres", "node-postgres with config", "your node-postgres driver"]}>
```typescript copy
import 'dotenv/config';
import { waddler } from 'waddler/node-postgres';

const sql = waddler(process.env.NILEDB_URL!);
```
```typescript copy
import 'dotenv/config';
import { waddler } from 'waddler/node-postgres';

// You can specify any property from the node-postgres connection options
const sql = waddler({ 
  connection: { 
    connectionString: process.env.NILEDB_URL!,
    ssl: true
  }
});
```
```typescript copy
import 'dotenv/config';
import { waddler } from 'waddler/node-postgres';
import pg from 'pg';

const { Pool } = pg;

const pool = new Pool({
  connectionString: process.env.NILEDB_URL!,
});
const sql = waddler({ client: pool });
```
</CodeTabs>

<Callout title='multi-tenancy'>
Nile provides **virtual tenant databases**. When you query Nile, you can set the tenant context and Nile will direct your queries to the virtual database for this particular tenant. All queries sent with tenant context will apply to that tenant alone (i.e. `select * from table` will result records only for this tenant). 
{/* To learn more about how to set tenant context with Drizzle, check the **[official Nile-Drizzle example](https://www.thenile.dev/docs/getting-started/languages/drizzle#72-tenantdb)**. */}
</Callout>